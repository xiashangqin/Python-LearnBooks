# pycookbook-3rd
> [第三版python](http://python3-cookbook.readthedocs.io/zh_CN/latest/index.html)简要阅读笔记

## 2th
关于字符串和文本。

### 2.15

* format: 和变量一起使用

### 2.16

* textwrap：固定格式显示字符串

### 2.17

* 利用html处理特殊显示的字符串

### 2.18

* **字符串令牌流解析，不知道什么意思**。

### 2.19

* 构造class求解表达式，**说实话没看懂**。

### 2.20

* 如何操作字节字符串，就是**b'str'**形式的字符串：基本操作和普通字符串类似，如果想在上面运用正则表达式，构造的正则表达式也是需要**字节形式的**，就是带有b。

## 3rd
数字和时间。

### 3.1

* 数字四舍五入-简单版本

### 3.2

* decimal更为复杂处理浮点数

### 3.3

* format同样可以格式化输出数字(添加千位符号)，而不是处理数字

### 3.4

* format数字进制转化
* **利用OS还可以进行文件的编码进制变换**

### 3.5
字节到大整数，**看不懂**。

### 3.6

* python支持简单的**复数操作**，更为复杂的应该使用numpy库。

### 3.7

* 无穷大、负无穷大和空值

### 3.8
分数操作。

### 3.9/3.10

* numpy进行矩阵运算

### 3.11
随机数操作，python自带random库，以下都是random.函数名。

* choice-从数组中随机选择数字
* sample-从数组中随机选择一组数字
* shuffle-随机打乱数组中的数字
* randint-从指定范围内选择数字
* random-(0,1)随机浮点数
* getrandbits-长度可指定的随机二进制数字

### 3.12/3.13/3.14/3.15
datetime库，时间操作。[2,3]操作都需要进一步处理，没有
已经写好的函数。

* 时间转化，普通操作
* 星期中某一天出现的最后日期
* 当前月份日期范围
* 字符串转化为时间
* **pytz库**结合datatime进行时区操作：先初始化时间，在pytz
装换为本地时间，然后就可以再装换到其他时区

## 4th

迭代器/生成器：最大的特点难道是可以使用for in 循环吗？

list应该就是一个迭代器

### 4.1
迭代器最重要就是其中的next函数，利用该函数可以构造一个迭代器。迭代器运行到会抛出**StopIteration**错误。

* 手动迭代器：利用iter函数，可以帮我构造一个迭代器

### 4.2
代理迭代

* 在一个类中添加__iter__()方法可以在其中生成迭代器。

### 4.3

* 有步长的迭代器

### 4.5

* 反向迭代器，同样在类中可以用__reversed__()实现

### 4.6 

如何使用类中__iter__()函数，是一门艺术，可以实现比较复杂的功能。

### 4.7/4.8/4.9

介绍itertools中关于迭代器的一些操作

* itertools.issilce():：在迭代器上进行切片操作，就是选取迭代器一部分的意思。
* itertools.dropwhile：实现更为复杂的切片操作，类似sort函数，传入一个返回true or false的函数。
* itertools.permutations：输出迭代器中元素所有可能排列组合/长度就是迭代器的长度
* itertools.combinations：输出迭代器中元素中任意个元素排列组合，比如任意1个，任意2个

### 4.10

迭代器，元素索引

* enumerate：返回元素以及元素索引值，可以传递开始参数。提及对文件行遍历是比较好的函数。


### 4.11/4.12

* zip：同时迭代两个迭代器，并返回组合。
* itertools.chain：对两个迭代器执行相同操作，理解为拼接两个迭代器

### 4.13
并没有阅读。大致意思就是利用管道方式处理**大数据**。

### 4.14
你想将一个多层嵌套的序列展开成一个单层列表。

用到的技术(有些是python3的函数命令)包括**自定义函数**，**yield from**，**嵌套函数(自己调用自己)**。

大体思想就是遍历某个迭代器，如果元素可迭代，就调用自身再遍历一遍。

### 4.15
合并排序好的迭代对象，并将它排序好输出。

* 利用heapq，但是要求输入的对象是排序好的。

虽然我不知道这个做法到底有没有意义。

### 4.16
迭代器代替while无限循环，这个我就觉得完全没有必要了。

## 5th
文本操作、文件、文件夹、读写等

文本指的是txt结尾的数据?

### 5.1
讨论了编码问题，可以使用errors来忽略编码问题。但是最好还是将文本编码格式变为utf-8

* 利用了open读取文本文件

### 5.2/5.3
print函数相关操作，传入seq，end。

* 打开一个文本文件，利用print函数将数据写入文本文件

### 5.4
以二进制方式读取文件，并转换为其他格式。但要注意解码编码。

### 5.5
写入文件最好先判断文件是否存在

* 利用open的x模式代替w模式，可以强行覆盖已经存在的文件；提供了一个文件已经存在，再次写文件的解决方案。

### 5.7

* 利用gzip和bz2读写压缩文件

### 5.8/5.9

* 读取文本文件不是以一行一行的模式，而是通过读取固定字节大小的数据
* 读写二进制文件到buffer

### 5.11/5.12

* 利用os.path操作文件路径名/测试文件是否存在
* 获取文件大小/日期

### 5.13/5.15

* os.listdir获取文件夹下文件列表
* 打印**不合法文件名**(UnicodeEncodeError)的时候的解决办法

### 5.16

* 一个黑科技：文件可以视为很多很多数据层叠加在一起，如果改变编码层就取出编码层，然后改变它。